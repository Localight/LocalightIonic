<section data-ng-controller="GiftcardsController" >
  <section ng-show="showPageFlag">
    <div class="wrapper">
      <!-- logo -->
      <img class="clique_logo" src="modules/giftcards/img/logo-local-gift-card-blk.png">
      <!-- To -->
      <label class="inputlabel" for="giftRecipientName">To:</label>
      <input type="text" data-ng-model="gc.giftRecipientFirstName" class="heart rightColumn" maxlength="16" placeholder="First Name" pattern="/^\p{L}+$/" autofocus required>

      <!--Amount-->
      <div id="clique_amt_selection" ng-show="priceSelectionFlag">
        <span class="leftarrow"></span>
        <div id="clique_amt_scrollwindow">
          <span ng-repeat="price in prices" class="price" ng-class="{active: isAmount(price)}" ng-click="setAmount(price);">
            <small>$</small>{{price}}</span>
        </div>
        <span class="rightarrow"></span>
      </div>

      <div id="clique_amt" ng-hide="priceSelectionFlag" ng-click="setBack()">
        <label class="inputlabel">$</label>
        <div class="helveticaInput rightColumn">{{gc.amount}}</div>
      </div>
    </div>
    <!--From-->
    <div id="clique_from">
      <label for="From" class="inputlabel">From: </label>
      <input type="text" data-ng-model="gc.giftSenderFirstName" class="heart rightColumn" placeholder="Your Name" maxlength="16" pattern="/^\p{L}+$/" required>

    </div>
    <!-- ng-show="dirty.Occasion || valid.Code" -->

    <!--Occasion-->
    <div id="clique_occasion_wrapper">
      <div id="clique_occasion_selection" class="roundWhiteBorder" ng-show="occasionSelectionFlag">
        <ul>
          <li ng-repeat="occasion in occasions" ng-click="setOccasion(occasion)">
            <img ng-src="{{occasion.images.normal}}">{{occasion.alt}}
          </li>
        </ul>
      </div>
      <div id="clique_occasion" ng-hide="occasionSelectionFlag">
        <label for="clique_input_occasion" class="inputlabel" ng-click="setOccasionBack()">
          <img ng-src="{{occasions.selectedIcon}}">
        </label>
        <div id="clique_input_occasion_wrapper" class="rightColumn">
          <textarea id="clique_input_occasion" maxlength="100" ng-trim="false" ng-model="gc.occasion" autofocus required></textarea>
          <span id="occCharCount">{{100 - gc.occasion.length}} characters left</span>
        </div>
        <!--note: <textarea maxlength="100"> is only supported in HTML 5-->
      </div>
    </div>

    <!--Date-->
    <div id="clique_date_wrapper">
      <div id="clique_date_selection" ng-show="sendSelectionFlag" class="roundWhiteBorder">
        <label class="inputlabel">Send</label>
        <div id="dateImages" class="rightColumn">
          <div id="sendToday" ng-click="setDateType('today')">
            <img id="sendTodayImg" src="modules/giftcards/img/send-today-wht.png" alt="Send Today"> Today
          </div>
          <div id="sendOnDate" ng-click="setDateType('on-date')">
            <img id="sendOnDateImg" src="modules/giftcards/img/send-on-date-wht.png" alt="Choose a Date"> On date
          </div>
        </div>
      </div>
      <!-- TODO: come back and add date picker. and transition back. -->

      <div id="clique_date" ng-hide="sendSelectionFlag">
        <label for="clique_input_date" class="inputlabel">
          <img ng-src="{{dateTypeImg}}" alt="Chosen Date">
        </label>
        <input type="text" id="clique_input_date" class="rightColumn" pick-a-date="" required>
      </div>
    </div>

    <!--Pay by card-->
    <div id="clique_payment_card" class="roundWhiteBorder">
      <!-- Inner Container -->
      <div id="creditcardnumbercontainer" class="paymentcontainer">
        <!-- Credit Card Logo Img -->
        <img id="creditcardimg" ng-src="{{cardTypeImg}}">
        <!-- Credit Card Number Input -->
        <input type="text" id="clique_input_creditcardnumber" class="profont checkinput credit_card_number" placeholder="XXXX XXXX XXXX XXXX" size="19" pattern="\d*" ng-model="cc.number" required>
        <!-- Checkmark box to the left -->
        <div class="checkmark"></div>
      </div>
      <!-- lower box that within same box but differnet background -->
      <div id="creditcardinfo" class="paymentcontainer filledIn">
        <!-- Date input for credit card -->
        <input type="text" id="clique_input_expiry" class="profont expiry credit_card_expiry" placeholder="MM / YYYY" maxlength="9" size="9" pattern="\d*" ng-model="formData.Expiry" ng-focus="expiryFocus()" required>
        <!-- CVV for Credit Card -->
        <!-- TODO: Come back and split up the month and year -->
        <input type="text" id="clique_input_cvv" class="profont expiry credit_card_cvc" placeholder="CVC" maxlength="4" size="4" pattern="\d*" ng-model="cc.cvc" ng-focus="expiryFocus()" required>
        <!-- Zip for credit card -->
        <input type="text" id="clique_input_zip" class="profont expiry number" placeholder="ZIP" maxlength="5" size="5" pattern="\d*" data-formance_length=5 ng-model="formData.ZIPcode" ng-focus="expiryFocus()" required>
        <!-- Second checkbox -->
        <div class="checkmark"></div>
      </div>
    </div>
    <div class="form-group">
        <button class="proceed_button" ng-click="setShowPage()">Continue</button>
    </div>
    <div data-ng-show="error" class="text-danger">
      <strong data-ng-bind="error"></strong>
    </div>
    </div>
  </section>
  <section ng-hide="showPageFlag">
    <div id="clique_ordersummary" class="wrapper">
      <!--Back-->
      <!-- <a ui-sref="main">Back</a> -->
      <!--Amount-->
      <div class="summaryordertotal">
        <label class="inputlabel">
          <img alt="Bowtie" src="../modules/giftcards/img/bowtie.png" />
        </label>
        <div class="rightColumn helveticaText">
          Send this gift of
          <span class="bold">${{gc.amount}}</span>
        </div>
      </div>
      <!--To-->
      <label class="inputlabel">To</label>
      <div class="heart rightColumn">
        {{gc.giftRecipientFirstName}}
      </div>
      <!--Phone Number-->
      <div id="clique_phonenumber" ng-class="{nextInput: !dirty.PhoneNumber}">
        <label class="inputlabel" for="clique_input_phonenumber">
          <img alt="Enter Phone Number" src="../modules/giftcards/img/phone.png" />
        </label>
        <input type="text" id="clique_input_phonenumber" class="helveticaInput rightColumn phone_number" placeholder="(XXX) XXX-XXXX" maxlength="14" pattern="\d*" data-ng-model="gc.mobileNumberOfRecipient" autofocus required>
      </div>
      <!--From-->
      <div>
        <label class="inputlabel">From</label>
        <div class="heart rightColumn">
          {{gc.giftSenderFirstName}}
        </div>
      </div>
      <!--Send Receipt To-->
      <div>
        <label class="inputlabel">&nbsp;</label>
        <div class="rightColumn helveticaText">Send receipt to</div>
      </div>

      <!--Email-->
      <div id="clique_email" ng-class="{nextInput: !dirty.Email}">
        <label class="inputlabel">
          <img alt="Enter Email Address" src="../modules/giftcards/img/emailsign_blk.png" />
        </label>
        <input type="email" id="clique_input_email" class="rightColumn helveticaInput email" placeholder="you@email.com" data-formance_algorithm='complex' ng-model="gc.emailForReceipt">
      </div>

      <!--Schedule Gift-->
      <div>
        <a ui-sref="final" ng-show="dirty.Email">
          <button class="proceed_button" ng-click="processForm()" ng-disabled="!pagesValid.main || !pagesValid.review">Schedule Order</button>
        </a>
      </div>
      <a ng-href="/#!/sent">
        <button class="proceed_button">Submit</button>
      </a>
    </div>
  </section>
</section>
